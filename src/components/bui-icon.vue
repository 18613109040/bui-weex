<template>
    <text @click="_click($event)" class="iconfont" :style="{color: color, fontSize: size, 'font-family': 'iconfont' }">{{getFontName}}</text>
</template>

<script>
    // 只需要在引入时加载一次字体文件即可
    var bundleUrl = weex.config.bundleUrl;
    var url = bundleUrl.split('/').slice(0, -1).join('/');
    url += '/font/iconfont.ttf';
    var domModule = weex.requireModule("dom");
    domModule.addRule('fontFace',{
        'fontFamily': 'iconfont',
        'src': "url('"+url+"')"
    });

    module.exports = {
        data: function () {
            return {
                //weex字体图标目前只支持unicode格式
                iconItems:{

                    "icon-appreciate": 58948,
                    "icon-appreciatefill": 59107,
                    "icon-check": 58949,
                    "icon-roundcheckfill": 58966,
                    "icon-roundcheck": 58967,
                    "icon-close": 58950,
                    "icon-roundclosefill": 58968,
                    "icon-roundclose": 58969,
                    "icon-delete": 59060,
                    "icon-deletefill": 59046,
                    "icon-add": 59098,
                    "icon-roundadd": 59097,
                    "icon-edit": 58953,
                    "icon-emoji": 58954,
                    "icon-favorfill": 58955,
                    "icon-favor": 58956,
                    "icon-loadding": 58959,
                    "icon-locationfill": 58960,
                    "icon-location": 58961,
                    "icon-phone": 58962,
                    "icon-roundrightfill": 58970,
                    "icon-roundright": 58971,
                    "icon-search": 58972,
                    "icon-searchlist": 59134,
                    "icon-time": 58975,
                    "icon-timefill": 58974,
                    "icon-taxi": 58973,
                    "icon-unfold": 58977,
                    "icon-fold": 59102,
                    "icon-warnfill": 58978,
                    "icon-warn": 58979,
                    "icon-camerafill": 58980,
                    "icon-camera": 58981,
                    "icon-commentfill": 58982,
                    "icon-comment": 58983,
                    "icon-likefill": 58984,
                    "icon-like": 58985,
                    "icon-notificationfill": 58986,
                    "icon-notification": 58987,
                    "icon-order": 58988,
                    "icon-samefill": 58989,
                    "icon-same": 58990,
                    "icon-deliver": 58993,
                    "icon-evaluate": 58994,
                    "icon-pay": 58995,
                    "icon-send": 58997,
                    "icon-shop": 58998,
                    "icon-shopfill": 59031,
                    "icon-ticket": 58999,
                    "icon-left": 59001,
                    "icon-right": 59043,
                    "icon-cascades": 59004,
                    "icon-discover": 59006,
                    "icon-discoverfill": 59066,
                    "icon-list": 59010,
                    "icon-more": 59012,
                    "icon-moreandroid": 59045,
                    "icon-myfill": 59013,
                    "icon-my": 59014,
                    "icon-scan": 59017,
                    "icon-settings": 59018,
                    "icon-questionfill": 59024,
                    "icon-question": 59025,
                    "icon-form": 59033,
                    "icon-pic": 59035,
                    "icon-picfill": 59180,
                    "icon-filter": 59036,
                    "icon-footprint": 59037,
                    "icon-top": 59038,
                    "icon-down": 59139,
                    "icon-pulldown": 59039,
                    "icon-pullup": 59040,
                    "icon-refresh": 59044,
                    "icon-refund": 59052,
                    "icon-cart": 59055,
                    "icon-cartfill": 59065,
                    "icon-qrcode": 59056,
                    "icon-remind": 59058,
                    "icon-profile": 59063,
                    "icon-profilefill": 59258,
                    "icon-homefill": 59067,
                    "icon-home": 59064,
                    "icon-messagefill": 59257,
                    "icon-message": 59068,
                    "icon-addressbook": 59069,
                    "icon-link": 59071,
                    "icon-lock": 59072,
                    "icon-unlock": 59074,
                    "icon-vip": 59075,
                    "icon-vipcard": 59118,
                    "icon-activity": 59077,
                    "icon-activityfill": 59253,
                    "icon-friendaddfill": 59081,
                    "icon-friendadd": 59082,
                    "icon-friendfamous": 59083,
                    "icon-friend": 59084,
                    "icon-friendfill": 59174,
                    "icon-goods": 59085,
                    "icon-goodsfill": 59256,
                    "icon-selection": 59086,
                    "icon-selectionfill": 59105,
                    "icon-explore": 59090,
                    "icon-explorefill": 59101,
                    "icon-present": 59091,
                    "icon-presentfill": 59186,
                    "icon-squarecheckfill": 59092,
                    "icon-square": 59093,
                    "icon-squarecheck": 59094,
                    "icon-round": 59095,
                    "icon-roundfill": 59096,
                    "icon-notificationforbidfill": 59099,
                    "icon-game": 59103,
                    "icon-redpacket": 59104,
                    "icon-similar": 59106,
                    "icon-infofill": 59108,
                    "icon-info": 59109,
                    "icon-forwardfill": 59114,
                    "icon-forward": 59115,
                    "icon-rechargefill": 59116,
                    "icon-recharge": 59117,
                    "icon-voice": 59119,
                    "icon-voicefill": 59120,
                    "icon-friendfavor": 59121,
                    "icon-wifi": 59122,
                    "icon-share": 59123,
                    "icon-wefill": 59124,
                    "icon-we": 59125,
                    "icon-lightauto": 59126,
                    "icon-lightforbid": 59127,
                    "icon-lightfill": 59128,
                    "icon-light": 59130,
                    "icon-camerarotate": 59129,
                    "icon-barcode": 59131,
                    "icon-flashlightclose": 59132,
                    "icon-flashlightopen": 59133,
                    "icon-service": 59135,
                    "icon-servicefill": 59191,
                    "icon-sort": 59136,
                    "icon-mobile": 59140,
                    "icon-mobilefill": 59141,
                    "icon-copy": 59142,
                    "icon-countdownfill": 59143,
                    "icon-countdown": 59144,
                    "icon-noticefill": 59145,
                    "icon-notice": 59146,
                    "icon-upstagefill": 59150,
                    "icon-upstage": 59151,
                    "icon-choicenessfill": 59156,
                    "icon-choiceness": 59157,
                    "icon-clothesfill": 59158,
                    "icon-clothes": 59159,
                    "icon-creativefill": 59160,
                    "icon-creative": 59161,
                    "icon-female": 59162,
                    "icon-male": 59164,
                    "icon-keyboard": 59163,
                    "icon-pullleft": 59167,
                    "icon-pullright": 59168,
                    "icon-rankfill": 59169,
                    "icon-rank": 59170,
                    "icon-bad": 59171,
                    "icon-cameraadd": 59172,
                    "icon-cameraaddfill": 59175,
                    "icon-focus": 59173,
                    "icon-apps": 59177,
                    "icon-paintfill": 59178,
                    "icon-paint": 59179,
                    "icon-refresharrow": 59181,
                    "icon-markfill": 59184,
                    "icon-mark": 59185,
                    "icon-repeal": 59187,
                    "icon-album": 59188,
                    "icon-peoplefill": 59189,
                    "icon-people": 59190,
                    "icon-repair": 59192,
                    "icon-repairfill": 59194,
                    "icon-file": 59193,
                    "icon-taoxiaopu": 59195,
                    "icon-attentionfill": 59196,
                    "icon-attention": 59197,
                    "icon-commandfill": 59198,
                    "icon-command": 59199,
                    "icon-communityfill": 59200,
                    "icon-community": 59201,
                    "icon-read": 59203,
                    "icon-calendar": 59210,
                    "icon-cut": 59211,
                    "icon-magic": 59212,
                    "icon-backwardfill": 59213,
                    "icon-forwardfill1": 59214,
                    "icon-stop": 59216,
                    "icon-tagfill": 59217,
                    "icon-tag": 59218,
                    "icon-group": 59219,
                    "icon-move": 59220,
                    "icon-all": 59221,
                    "icon-backdelete": 59222,
                    "icon-hotfill": 59223,
                    "icon-hot": 59224,
                    "icon-post": 59225,
                    "icon-radiobox": 59227,
                    "icon-radioboxfill": 59235,
                    "icon-rounddown": 59228,
                    "icon-upload": 59229,
                    "icon-videofill": 59230,
                    "icon-video": 59231,
                    "icon-writefill": 59232,
                    "icon-write": 59233,
                    "icon-punch": 59236,
                    "icon-shake": 59237,
                    "icon-safe": 59241,
                    "icon-crownfill": 59254,
                    "icon-crown": 59255,
                    "icon-sound": 59259,
                    "icon-sponsorfill": 59260,
                    "icon-weunblock": 59264,
                    "icon-weblock": 59263,
                    "icon-upblock": 59262,
                    "icon-sponsor": 59261,
                    "icon-babyfill": 59152,
                    "icon-baby": 59153,
                    "icon-add1": 59239,
                    "icon-move1": 59240,

                    "icon-user": 59190,
                    "icon-msg": 59257,
                    "icon-erweima": 59056,
                    "icon-radio": 59095,
                    "icon-radio-on": 59235,
                    "icon-checkbox-on": 58966,
                    "icon-menu": 59136,
                    "icon-back": 59001,
                    "icon-go": 59043,
                    "icon-book": 59202,
                    "icon-success": 58967,
                    "icon-star": 58956,
                    "icon-liwu": 59091,
                    "icon-jiantou": 59102,
                    "icon-hongqi": 59253,

                }
            }
        },
        props: {
            name: {
                type: String
            },
            color: {
                type: String,
                default: '#9ea7b4'
            },
            size: {
                type: String,
                default: '40px'
            }
        },
        computed:{
            //匹配对应的字体图标的unicode
            getFontName: function() {
                return String.fromCharCode(this.iconItems[this.name]);
            }
        },
        methods: {
            "_click": function ($event) {
                this.$emit("click", $event);
            }
        }
    }
</script>
